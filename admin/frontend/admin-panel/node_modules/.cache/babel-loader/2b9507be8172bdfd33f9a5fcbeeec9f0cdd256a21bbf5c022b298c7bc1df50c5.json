{"ast":null,"code":"var _jsxFileName = \"D:\\\\hoc\\\\chuyen de 1\\\\admin\\\\frontend\\\\admin-panel\\\\src\\\\pages\\\\ProductManagement.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Box, Typography, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Button, IconButton, Dialog, DialogActions, DialogContent, DialogTitle, TextField, MenuItem, Select, FormControl, InputLabel, Chip, Avatar, FormHelperText, CircularProgress, InputAdornment, Tooltip, Tab, Tabs, List, ListItem, ListItemText, Divider } from '@mui/material';\nimport { styled } from '@mui/material/styles';\nimport EditIcon from '@mui/icons-material/Edit';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport AddIcon from '@mui/icons-material/Add';\nimport ImageIcon from '@mui/icons-material/Image';\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\nimport DeleteOutlineIcon from '@mui/icons-material/DeleteOutline';\nimport DescriptionIcon from '@mui/icons-material/Description';\nimport LocalOfferIcon from '@mui/icons-material/LocalOffer';\nimport PercentIcon from '@mui/icons-material/Percent';\nimport Layout from '../components/Layout';\nimport { getProducts, createProduct, updateProduct, deleteProduct, getCategories, getProductPromotions } from '../services/api';\nimport { useSnackbar } from 'notistack';\nimport { useNavigate } from 'react-router-dom';\n\n// Cloudinary configuration\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CLOUDINARY_UPLOAD_PRESET = 'gamine_preset'; // Preset cho ứng dụng của bạn - cần tạo trong Cloudinary dashboard\nconst CLOUDINARY_CLOUD_NAME = 'dlexb1dx9'; // Cloud name miễn phí của Cloudinary\nconst CLOUDINARY_UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUDINARY_CLOUD_NAME}/image/upload`;\n\n// Tạo các styled components thay thế cho Grid\nconst GridContainer = styled('div')(({\n  theme\n}) => ({\n  display: 'flex',\n  flexWrap: 'wrap',\n  width: '100%',\n  margin: '-8px' // Bù lại padding của GridItem\n}));\n_c = GridContainer;\nconst GridItem = styled('div')(({\n  theme\n}) => ({\n  padding: '8px',\n  boxSizing: 'border-box',\n  flex: '0 0 auto'\n}));\n\n// GridItem với kích thước 6/12 cho màn hình trung bình trở lên, 12/12 cho màn hình nhỏ\nconst GridItemHalf = styled(GridItem)(({\n  theme\n}) => ({\n  width: '100%',\n  [theme.breakpoints.up('sm')]: {\n    width: '50%'\n  }\n}));\n_c2 = GridItemHalf;\nfunction TabPanel(props) {\n  const {\n    children,\n    value,\n    index,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: `simple-tabpanel-${index}`,\n    \"aria-labelledby\": `simple-tab-${index}`,\n    ...other,\n    children: value === index && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 3\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n}\n_c3 = TabPanel;\nconst formatDate = dateString => {\n  const date = new Date(dateString);\n  return date.toLocaleString('vi-VN');\n};\nconst ProductManagement = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [openDialog, setOpenDialog] = useState(false);\n  const [editingProduct, setEditingProduct] = useState(null);\n  const [tabValue, setTabValue] = useState(0);\n  const [uploadingImage, setUploadingImage] = useState(false);\n\n  // Promotion dialog\n  const [openPromotionDialog, setOpenPromotionDialog] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const [productPromotions, setProductPromotions] = useState([]);\n  const [loadingPromotions, setLoadingPromotions] = useState(false);\n  const [promoTabValue, setPromoTabValue] = useState(0);\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    price: '',\n    stock_quantity: '',\n    category: '',\n    specification: ''\n  });\n  const [images, setImages] = useState([]);\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetchProducts();\n    fetchCategories();\n  }, []);\n  const fetchProducts = async () => {\n    try {\n      setLoading(true);\n      const response = await getProducts();\n      setProducts(response.data);\n    } catch (error) {\n      console.error('Không thể lấy dữ liệu sản phẩm:', error);\n      enqueueSnackbar('Không thể lấy danh sách sản phẩm', {\n        variant: 'error'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchCategories = async () => {\n    try {\n      const response = await getCategories();\n      setCategories(response.data);\n    } catch (error) {\n      console.error('Không thể lấy dữ liệu danh mục:', error);\n      enqueueSnackbar('Không thể lấy danh sách danh mục', {\n        variant: 'error'\n      });\n    }\n  };\n  const handleOpenDialog = product => {\n    if (product) {\n      var _product$detail;\n      setEditingProduct(product);\n      setFormData({\n        name: product.name,\n        description: product.description || '',\n        price: product.price.toString(),\n        stock_quantity: product.stock_quantity.toString(),\n        category: product.category.toString(),\n        specification: ((_product$detail = product.detail) === null || _product$detail === void 0 ? void 0 : _product$detail.specification) || ''\n      });\n      setImages(product.images || []);\n    } else {\n      setEditingProduct(null);\n      setFormData({\n        name: '',\n        description: '',\n        price: '',\n        stock_quantity: '',\n        category: '',\n        specification: ''\n      });\n      setImages([]);\n    }\n    setOpenDialog(true);\n    setTabValue(0); // Reset to first tab when opening dialog\n  };\n  const handleCloseDialog = () => {\n    setOpenDialog(false);\n    setEditingProduct(null);\n    setImages([]);\n  };\n  const handleTextFieldChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleSelectChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleTabChange = (event, newValue) => {\n    setTabValue(newValue);\n  };\n  const handleUploadImage = async e => {\n    if (!e.target.files || e.target.files.length === 0) return;\n    const file = e.target.files[0];\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('upload_preset', CLOUDINARY_UPLOAD_PRESET);\n    try {\n      setUploadingImage(true);\n      const response = await fetch(CLOUDINARY_UPLOAD_URL, {\n        method: 'POST',\n        body: formData\n      });\n      const data = await response.json();\n      if (data.secure_url) {\n        const newImage = {\n          image_id: Date.now(),\n          // Temporary ID for UI purposes\n          image_url: data.secure_url,\n          is_primary: images.length === 0 // First image is primary by default\n        };\n        setImages(prev => [...prev, newImage]);\n        enqueueSnackbar('Tải hình ảnh lên thành công!', {\n          variant: 'success'\n        });\n      }\n    } catch (error) {\n      console.error('Lỗi khi tải hình ảnh:', error);\n      enqueueSnackbar('Không thể tải hình ảnh lên', {\n        variant: 'error'\n      });\n    } finally {\n      setUploadingImage(false);\n    }\n  };\n  const handleRemoveImage = imageId => {\n    setImages(prev => {\n      const filtered = prev.filter(img => img.image_id !== imageId);\n      // If we removed the primary image and have other images, make the first one primary\n      if (filtered.length > 0 && !filtered.some(img => img.is_primary)) {\n        filtered[0].is_primary = true;\n      }\n      return filtered;\n    });\n  };\n  const handleSetPrimaryImage = imageId => {\n    setImages(prev => prev.map(img => ({\n      ...img,\n      is_primary: img.image_id === imageId\n    })));\n  };\n  const validateForm = () => {\n    if (!formData.name.trim()) {\n      enqueueSnackbar('Vui lòng nhập tên sản phẩm', {\n        variant: 'error'\n      });\n      return false;\n    }\n    if (!formData.price || isNaN(Number(formData.price)) || Number(formData.price) <= 0) {\n      enqueueSnackbar('Vui lòng nhập giá sản phẩm hợp lệ', {\n        variant: 'error'\n      });\n      return false;\n    }\n    if (!formData.stock_quantity || isNaN(Number(formData.stock_quantity)) || Number(formData.stock_quantity) < 0) {\n      enqueueSnackbar('Vui lòng nhập số lượng tồn kho hợp lệ', {\n        variant: 'error'\n      });\n      return false;\n    }\n    if (!formData.category) {\n      enqueueSnackbar('Vui lòng chọn danh mục sản phẩm', {\n        variant: 'error'\n      });\n      return false;\n    }\n    return true;\n  };\n  const handleSubmit = async () => {\n    if (!validateForm()) return;\n    try {\n      const productData = {\n        name: formData.name,\n        description: formData.description || null,\n        price: Number(formData.price),\n        stock_quantity: Number(formData.stock_quantity),\n        category: Number(formData.category),\n        images: images.map(img => ({\n          image_url: img.image_url,\n          is_primary: img.is_primary\n        })),\n        detail: {\n          specification: formData.specification || null\n        }\n      };\n      if (editingProduct) {\n        // Cập nhật sản phẩm\n        await updateProduct(editingProduct.product_id, productData);\n        enqueueSnackbar('Cập nhật sản phẩm thành công!', {\n          variant: 'success'\n        });\n      } else {\n        // Tạo sản phẩm mới\n        await createProduct(productData);\n        enqueueSnackbar('Tạo sản phẩm mới thành công!', {\n          variant: 'success'\n        });\n      }\n      handleCloseDialog();\n      fetchProducts();\n    } catch (error) {\n      console.error('Lỗi khi lưu sản phẩm:', error);\n      if (error.response) {\n        console.error('Lỗi response:', error.response.data);\n        enqueueSnackbar(`Lỗi: ${JSON.stringify(error.response.data)}`, {\n          variant: 'error'\n        });\n      } else {\n        enqueueSnackbar('Lỗi khi lưu dữ liệu sản phẩm', {\n          variant: 'error'\n        });\n      }\n    }\n  };\n  const handleDelete = async id => {\n    if (window.confirm('Bạn có chắc chắn muốn xóa sản phẩm này?')) {\n      try {\n        await deleteProduct(id);\n        enqueueSnackbar('Xóa sản phẩm thành công!', {\n          variant: 'success'\n        });\n        fetchProducts();\n      } catch (error) {\n        console.error('Lỗi khi xóa sản phẩm:', error);\n        enqueueSnackbar('Không thể xóa sản phẩm', {\n          variant: 'error'\n        });\n      }\n    }\n  };\n  const formatPrice = price => {\n    return new Intl.NumberFormat('vi-VN', {\n      style: 'currency',\n      currency: 'VND'\n    }).format(price);\n  };\n  const handleOpenPromotionDialog = async product => {\n    setSelectedProduct(product);\n    setOpenPromotionDialog(true);\n    setPromoTabValue(0);\n    await fetchProductPromotions(product.product_id);\n  };\n  const handleClosePromotionDialog = () => {\n    setOpenPromotionDialog(false);\n    setSelectedProduct(null);\n    setProductPromotions([]);\n  };\n  const fetchProductPromotions = async productId => {\n    try {\n      setLoadingPromotions(true);\n      const response = await getProductPromotions(productId);\n      setProductPromotions(response.data);\n    } catch (error) {\n      console.error('Không thể lấy danh sách khuyến mãi của sản phẩm:', error);\n      enqueueSnackbar('Không thể lấy danh sách khuyến mãi', {\n        variant: 'error'\n      });\n    } finally {\n      setLoadingPromotions(false);\n    }\n  };\n  const handleAddPromotion = () => {\n    navigate('/promotions', {\n      state: {\n        selectedProductId: selectedProduct === null || selectedProduct === void 0 ? void 0 : selectedProduct.product_id\n      }\n    });\n    handleClosePromotionDialog();\n  };\n  const handlePromoTabChange = (event, newValue) => {\n    setPromoTabValue(newValue);\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          mb: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          children: \"Qu\\u1EA3n l\\xFD S\\u1EA3n ph\\u1EA9m\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 36\n          }, this),\n          onClick: () => handleOpenDialog(),\n          children: \"Th\\xEAm S\\u1EA3n ph\\u1EA9m\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n        component: Paper,\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"H\\xECnh \\u1EA3nh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"T\\xEAn s\\u1EA3n ph\\u1EA9m\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Danh m\\u1EE5c\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Gi\\xE1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"T\\u1ED3n kho\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"\\u0110\\xE3 b\\xE1n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Khuy\\u1EBFn m\\xE3i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: \"Thao t\\xE1c\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: loading ? /*#__PURE__*/_jsxDEV(TableRow, {\n              children: /*#__PURE__*/_jsxDEV(TableCell, {\n                colSpan: 9,\n                align: \"center\",\n                children: \"\\u0110ang t\\u1EA3i...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 33\n            }, this) : products.length === 0 ? /*#__PURE__*/_jsxDEV(TableRow, {\n              children: /*#__PURE__*/_jsxDEV(TableCell, {\n                colSpan: 9,\n                align: \"center\",\n                children: \"Kh\\xF4ng c\\xF3 d\\u1EEF li\\u1EC7u\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 33\n            }, this) : products.map(product => {\n              var _product$images$find;\n              return /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: product.product_id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: product.images && product.images.length > 0 ? /*#__PURE__*/_jsxDEV(Avatar, {\n                    src: ((_product$images$find = product.images.find(img => img.is_primary)) === null || _product$images$find === void 0 ? void 0 : _product$images$find.image_url) || product.images[0].image_url,\n                    alt: product.name,\n                    sx: {\n                      width: 50,\n                      height: 50\n                    },\n                    variant: \"rounded\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 417,\n                    columnNumber: 49\n                  }, this) : /*#__PURE__*/_jsxDEV(Avatar, {\n                    sx: {\n                      width: 50,\n                      height: 50,\n                      bgcolor: 'grey.300'\n                    },\n                    variant: \"rounded\",\n                    children: /*#__PURE__*/_jsxDEV(ImageIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 428,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 424,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: product.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: product.category_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: product.discounted_price && product.discounted_price !== product.price ? /*#__PURE__*/_jsxDEV(Box, {\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      sx: {\n                        textDecoration: 'line-through',\n                        color: 'text.secondary'\n                      },\n                      children: formatPrice(product.price)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 437,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body1\",\n                      sx: {\n                        color: 'error.main',\n                        fontWeight: 'bold'\n                      },\n                      children: formatPrice(product.discounted_price)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 446,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 436,\n                    columnNumber: 49\n                  }, this) : formatPrice(product.price)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: product.stock_quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 457,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: product.sold_quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                    title: \"Xem khuy\\u1EBFn m\\xE3i\",\n                    children: /*#__PURE__*/_jsxDEV(IconButton, {\n                      onClick: () => handleOpenPromotionDialog(product),\n                      color: \"primary\",\n                      children: /*#__PURE__*/_jsxDEV(LocalOfferIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 465,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 461,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 460,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"right\",\n                  children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                    onClick: () => handleOpenDialog(product),\n                    children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 471,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 470,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                    onClick: () => handleDelete(product.product_id),\n                    children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 474,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 473,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 469,\n                  columnNumber: 41\n                }, this)]\n              }, product.product_id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 37\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        open: openDialog,\n        onClose: handleCloseDialog,\n        maxWidth: \"md\",\n        fullWidth: true,\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          children: editingProduct ? 'Sửa Sản phẩm' : 'Thêm Sản phẩm Mới'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            borderBottom: 1,\n            borderColor: 'divider'\n          },\n          children: /*#__PURE__*/_jsxDEV(Tabs, {\n            value: tabValue,\n            onChange: handleTabChange,\n            \"aria-label\": \"product edit tabs\",\n            children: [/*#__PURE__*/_jsxDEV(Tab, {\n              label: \"Th\\xF4ng tin c\\u01A1 b\\u1EA3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              label: \"H\\xECnh \\u1EA3nh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              label: \"Th\\xF4ng s\\u1ED1 k\\u1EF9 thu\\u1EADt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: [/*#__PURE__*/_jsxDEV(TabPanel, {\n            value: tabValue,\n            index: 0,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                flexDirection: 'column',\n                gap: 2,\n                mt: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"T\\xEAn s\\u1EA3n ph\\u1EA9m\",\n                name: \"name\",\n                value: formData.name,\n                onChange: handleTextFieldChange,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"M\\xF4 t\\u1EA3\",\n                name: \"description\",\n                value: formData.description,\n                onChange: handleTextFieldChange,\n                multiline: true,\n                rows: 4\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(GridContainer, {\n                children: [/*#__PURE__*/_jsxDEV(GridItemHalf, {\n                  children: /*#__PURE__*/_jsxDEV(TextField, {\n                    fullWidth: true,\n                    label: \"Gi\\xE1 (VN\\u0110)\",\n                    name: \"price\",\n                    value: formData.price,\n                    onChange: handleTextFieldChange,\n                    type: \"number\",\n                    InputProps: {\n                      startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                        position: \"start\",\n                        children: \"\\u20AB\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 529,\n                        columnNumber: 65\n                      }, this)\n                    },\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 521,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(GridItemHalf, {\n                  children: /*#__PURE__*/_jsxDEV(TextField, {\n                    fullWidth: true,\n                    label: \"S\\u1ED1 l\\u01B0\\u1EE3ng t\\u1ED3n kho\",\n                    name: \"stock_quantity\",\n                    value: formData.stock_quantity,\n                    onChange: handleTextFieldChange,\n                    type: \"number\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 535,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 534,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                fullWidth: true,\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  id: \"category-select-label\",\n                  children: \"Danh m\\u1EE5c\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 547,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  labelId: \"category-select-label\",\n                  value: formData.category,\n                  label: \"Danh m\\u1EE5c\",\n                  name: \"category\",\n                  onChange: handleSelectChange,\n                  children: categories.map(category => /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: category.category_id,\n                    children: category.name\n                  }, category.category_id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 556,\n                    columnNumber: 45\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 548,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            value: tabValue,\n            index: 1,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mt: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                sx: {\n                  mb: 2\n                },\n                children: \"H\\xECnh \\u1EA3nh s\\u1EA3n ph\\u1EA9m\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 567,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  mb: 3\n                },\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outlined\",\n                  component: \"label\",\n                  startIcon: uploadingImage ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                    size: 24\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 575,\n                    columnNumber: 69\n                  }, this) : /*#__PURE__*/_jsxDEV(CloudUploadIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 575,\n                    columnNumber: 102\n                  }, this),\n                  disabled: uploadingImage,\n                  children: [\"T\\u1EA3i h\\xECnh \\u1EA3nh l\\xEAn\", /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    hidden: true,\n                    accept: \"image/*\",\n                    onChange: handleUploadImage,\n                    disabled: uploadingImage\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 579,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 572,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n                  children: \"H\\xECnh \\u1EA3nh s\\u1EBD \\u0111\\u01B0\\u1EE3c t\\u1EA3i l\\xEAn Cloudinary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 587,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 571,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  flexWrap: 'wrap',\n                  gap: 1\n                },\n                children: [images.map(image => /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    position: 'relative',\n                    width: 150,\n                    height: 150,\n                    m: 1,\n                    border: image.is_primary ? '2px solid #2196f3' : '1px solid #ddd',\n                    borderRadius: 1,\n                    overflow: 'hidden'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: image.image_url,\n                    alt: \"Product\",\n                    style: {\n                      width: '100%',\n                      height: '100%',\n                      objectFit: 'cover'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 606,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      position: 'absolute',\n                      bottom: 0,\n                      left: 0,\n                      right: 0,\n                      bgcolor: 'rgba(0,0,0,0.6)',\n                      display: 'flex',\n                      justifyContent: 'space-around',\n                      p: 0.5\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n                      title: \"\\u0110\\u1EB7t l\\xE0m \\u1EA3nh ch\\xEDnh\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: /*#__PURE__*/_jsxDEV(IconButton, {\n                          size: \"small\",\n                          onClick: () => handleSetPrimaryImage(image.image_id),\n                          disabled: image.is_primary,\n                          sx: {\n                            color: 'white'\n                          },\n                          children: /*#__PURE__*/_jsxDEV(ImageIcon, {\n                            fontSize: \"small\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 631,\n                            columnNumber: 61\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 625,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 624,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 623,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                      title: \"X\\xF3a \\u1EA3nh\",\n                      children: /*#__PURE__*/_jsxDEV(IconButton, {\n                        size: \"small\",\n                        onClick: () => handleRemoveImage(image.image_id),\n                        sx: {\n                          color: 'white'\n                        },\n                        children: /*#__PURE__*/_jsxDEV(DeleteOutlineIcon, {\n                          fontSize: \"small\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 641,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 636,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 635,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 611,\n                    columnNumber: 45\n                  }, this), image.is_primary && /*#__PURE__*/_jsxDEV(Chip, {\n                    label: \"\\u1EA2nh ch\\xEDnh\",\n                    size: \"small\",\n                    color: \"primary\",\n                    sx: {\n                      position: 'absolute',\n                      top: 5,\n                      right: 5\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 646,\n                    columnNumber: 49\n                  }, this)]\n                }, image.image_id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 594,\n                  columnNumber: 41\n                }, this)), images.length === 0 && /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    width: '100%',\n                    height: 200,\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    bgcolor: 'grey.100',\n                    borderRadius: 1\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    color: \"text.secondary\",\n                    sx: {\n                      display: 'flex',\n                      alignItems: 'center'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(ImageIcon, {\n                      sx: {\n                        mr: 1\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 673,\n                      columnNumber: 49\n                    }, this), \"Ch\\u01B0a c\\xF3 h\\xECnh \\u1EA3nh n\\xE0o\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 672,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 661,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 592,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            value: tabValue,\n            index: 2,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mt: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                sx: {\n                  mb: 2,\n                  display: 'flex',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(DescriptionIcon, {\n                  sx: {\n                    mr: 1\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 685,\n                  columnNumber: 37\n                }, this), \"Th\\xF4ng s\\u1ED1 k\\u1EF9 thu\\u1EADt s\\u1EA3n ph\\u1EA9m\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 684,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Th\\xF4ng s\\u1ED1 k\\u1EF9 thu\\u1EADt\",\n                name: \"specification\",\n                value: formData.specification,\n                onChange: handleTextFieldChange,\n                multiline: true,\n                rows: 10,\n                placeholder: \"Nh\\u1EADp th\\xF4ng s\\u1ED1 k\\u1EF9 thu\\u1EADt c\\u1EE7a s\\u1EA3n ph\\u1EA9m...\",\n                helperText: \"B\\u1EA1n c\\xF3 th\\u1EC3 s\\u1EED d\\u1EE5ng \\u0111\\u1ECBnh d\\u1EA1ng Markdown\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 689,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 683,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 682,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleCloseDialog,\n            children: \"H\\u1EE7y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 704,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleSubmit,\n            variant: \"contained\",\n            children: \"L\\u01B0u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 705,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 703,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        open: openPromotionDialog,\n        onClose: handleClosePromotionDialog,\n        maxWidth: \"md\",\n        fullWidth: true,\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          children: [\"Khuy\\u1EBFn m\\xE3i cho s\\u1EA3n ph\\u1EA9m: \", selectedProduct === null || selectedProduct === void 0 ? void 0 : selectedProduct.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 711,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              borderBottom: 1,\n              borderColor: 'divider'\n            },\n            children: /*#__PURE__*/_jsxDEV(Tabs, {\n              value: promoTabValue,\n              onChange: handlePromoTabChange,\n              children: /*#__PURE__*/_jsxDEV(Tab, {\n                label: \"Khuy\\u1EBFn m\\xE3i \\u0111ang \\xE1p d\\u1EE5ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 717,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 716,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 715,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            value: promoTabValue,\n            index: 0,\n            children: loadingPromotions ? /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                justifyContent: 'center',\n                my: 2\n              },\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                children: \"\\u0110ang t\\u1EA3i khuy\\u1EBFn m\\xE3i...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 723,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 722,\n              columnNumber: 33\n            }, this) : productPromotions.length === 0 ? /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                my: 2\n              },\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                children: \"Ch\\u01B0a c\\xF3 khuy\\u1EBFn m\\xE3i n\\xE0o cho s\\u1EA3n ph\\u1EA9m n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 727,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 726,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(List, {\n              children: productPromotions.map((promotion, index) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(ListItem, {\n                  children: [/*#__PURE__*/_jsxDEV(ListItemText, {\n                    primary: /*#__PURE__*/_jsxDEV(Box, {\n                      sx: {\n                        display: 'flex',\n                        alignItems: 'center'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(PercentIcon, {\n                        sx: {\n                          mr: 1,\n                          color: 'primary.main'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 737,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body1\",\n                        children: [promotion.title, \" - \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: [promotion.discount_percentage, \"%\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 739,\n                          columnNumber: 85\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 738,\n                        columnNumber: 61\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 736,\n                      columnNumber: 57\n                    }, this),\n                    secondary: /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body2\",\n                        children: promotion.description || 'Không có mô tả'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 745,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"caption\",\n                        children: [\"Th\\u1EDDi gian: \", formatDate(promotion.start_date), \" - \", formatDate(promotion.end_date)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 748,\n                        columnNumber: 61\n                      }, this)]\n                    }, void 0, true)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 734,\n                    columnNumber: 49\n                  }, this), (() => {\n                    const now = new Date();\n                    const startDate = new Date(promotion.start_date);\n                    const endDate = new Date(promotion.end_date);\n                    let status = \"Chưa bắt đầu\";\n                    let color = \"info\";\n                    if (now >= startDate && now <= endDate) {\n                      status = \"Đang diễn ra\";\n                      color = \"success\";\n                    } else if (now > endDate) {\n                      status = \"Đã kết thúc\";\n                      color = \"error\";\n                    }\n                    return /*#__PURE__*/_jsxDEV(Chip, {\n                      label: status,\n                      color: color,\n                      size: \"small\",\n                      sx: {\n                        ml: 1\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 771,\n                      columnNumber: 57\n                    }, this);\n                  })()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 733,\n                  columnNumber: 45\n                }, this), index < productPromotions.length - 1 && /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 780,\n                  columnNumber: 86\n                }, this)]\n              }, promotion.promotion_id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 732,\n                columnNumber: 41\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 730,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 720,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 714,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleAddPromotion,\n            variant: \"contained\",\n            color: \"primary\",\n            startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 792,\n              columnNumber: 40\n            }, this),\n            children: \"Th\\xEAm khuy\\u1EBFn m\\xE3i m\\u1EDBi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 788,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleClosePromotionDialog,\n            children: \"\\u0110\\xF3ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 796,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 787,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 710,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 374,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductManagement, \"YN1cea88wqN1YpOJTGBGc+ikPSI=\", false, function () {\n  return [useSnackbar, useNavigate];\n});\n_c4 = ProductManagement;\nexport default ProductManagement;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"GridContainer\");\n$RefreshReg$(_c2, \"GridItemHalf\");\n$RefreshReg$(_c3, \"TabPanel\");\n$RefreshReg$(_c4, \"ProductManagement\");","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Button","IconButton","Dialog","DialogActions","DialogContent","DialogTitle","TextField","MenuItem","Select","FormControl","InputLabel","Chip","Avatar","FormHelperText","CircularProgress","InputAdornment","Tooltip","Tab","Tabs","List","ListItem","ListItemText","Divider","styled","EditIcon","DeleteIcon","AddIcon","ImageIcon","CloudUploadIcon","DeleteOutlineIcon","DescriptionIcon","LocalOfferIcon","PercentIcon","Layout","getProducts","createProduct","updateProduct","deleteProduct","getCategories","getProductPromotions","useSnackbar","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","CLOUDINARY_UPLOAD_PRESET","CLOUDINARY_CLOUD_NAME","CLOUDINARY_UPLOAD_URL","GridContainer","theme","display","flexWrap","width","margin","_c","GridItem","padding","boxSizing","flex","GridItemHalf","breakpoints","up","_c2","TabPanel","props","children","value","index","other","role","hidden","id","sx","p","fileName","_jsxFileName","lineNumber","columnNumber","_c3","formatDate","dateString","date","Date","toLocaleString","ProductManagement","_s","products","setProducts","categories","setCategories","loading","setLoading","openDialog","setOpenDialog","editingProduct","setEditingProduct","tabValue","setTabValue","uploadingImage","setUploadingImage","openPromotionDialog","setOpenPromotionDialog","selectedProduct","setSelectedProduct","productPromotions","setProductPromotions","loadingPromotions","setLoadingPromotions","promoTabValue","setPromoTabValue","formData","setFormData","name","description","price","stock_quantity","category","specification","images","setImages","enqueueSnackbar","navigate","fetchProducts","fetchCategories","response","data","error","console","variant","handleOpenDialog","product","_product$detail","toString","detail","handleCloseDialog","handleTextFieldChange","e","target","prev","handleSelectChange","handleTabChange","event","newValue","handleUploadImage","files","length","file","FormData","append","fetch","method","body","json","secure_url","newImage","image_id","now","image_url","is_primary","handleRemoveImage","imageId","filtered","filter","img","some","handleSetPrimaryImage","map","validateForm","trim","isNaN","Number","handleSubmit","productData","product_id","JSON","stringify","handleDelete","window","confirm","formatPrice","Intl","NumberFormat","style","currency","format","handleOpenPromotionDialog","fetchProductPromotions","handleClosePromotionDialog","productId","handleAddPromotion","state","selectedProductId","handlePromoTabChange","justifyContent","alignItems","mb","startIcon","onClick","component","align","colSpan","_product$images$find","src","find","alt","height","bgcolor","category_name","discounted_price","textDecoration","color","fontWeight","sold_quantity","title","open","onClose","maxWidth","fullWidth","borderBottom","borderColor","onChange","label","flexDirection","gap","mt","required","multiline","rows","type","InputProps","startAdornment","position","labelId","category_id","size","disabled","accept","image","m","border","borderRadius","overflow","objectFit","bottom","left","right","fontSize","top","mr","placeholder","helperText","my","promotion","primary","discount_percentage","secondary","start_date","end_date","startDate","endDate","status","ml","promotion_id","_c4","$RefreshReg$"],"sources":["D:/hoc/chuyen de 1/admin/frontend/admin-panel/src/pages/ProductManagement.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n    Box, Typography, Paper, Table, TableBody, TableCell, TableContainer, TableHead, \n    TableRow, Button, IconButton, Dialog, DialogActions, DialogContent, DialogTitle, \n    TextField, MenuItem, Select, FormControl, InputLabel, Chip, Avatar, \n    FormHelperText, CircularProgress, InputAdornment, Tooltip, Tab, Tabs, SelectChangeEvent,\n    List, ListItem, ListItemText, Divider\n} from '@mui/material';\nimport { styled } from '@mui/material/styles';\nimport EditIcon from '@mui/icons-material/Edit';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport AddIcon from '@mui/icons-material/Add';\nimport ImageIcon from '@mui/icons-material/Image';\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\nimport DeleteOutlineIcon from '@mui/icons-material/DeleteOutline';\nimport DescriptionIcon from '@mui/icons-material/Description';\nimport LocalOfferIcon from '@mui/icons-material/LocalOffer';\nimport PercentIcon from '@mui/icons-material/Percent';\nimport Layout from '../components/Layout';\nimport { \n    getProducts, createProduct, updateProduct, deleteProduct, getCategories,\n    getProductPromotions\n} from '../services/api';\nimport { Product, Category, ProductImage, ProductDetail, Promotion } from '../types';\nimport { useSnackbar } from 'notistack';\nimport { useNavigate } from 'react-router-dom';\n\n// Cloudinary configuration\nconst CLOUDINARY_UPLOAD_PRESET = 'gamine_preset'; // Preset cho ứng dụng của bạn - cần tạo trong Cloudinary dashboard\nconst CLOUDINARY_CLOUD_NAME = 'dlexb1dx9'; // Cloud name miễn phí của Cloudinary\nconst CLOUDINARY_UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUDINARY_CLOUD_NAME}/image/upload`;\n\n// Tạo các styled components thay thế cho Grid\nconst GridContainer = styled('div')(({ theme }) => ({\n    display: 'flex',\n    flexWrap: 'wrap',\n    width: '100%',\n    margin: '-8px', // Bù lại padding của GridItem\n}));\n\nconst GridItem = styled('div')(({ theme }) => ({\n    padding: '8px',\n    boxSizing: 'border-box',\n    flex: '0 0 auto',\n}));\n\n// GridItem với kích thước 6/12 cho màn hình trung bình trở lên, 12/12 cho màn hình nhỏ\nconst GridItemHalf = styled(GridItem)(({ theme }) => ({\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n        width: '50%',\n    },\n}));\n\ninterface TabPanelProps {\n    children?: React.ReactNode;\n    index: number;\n    value: number;\n}\n\nfunction TabPanel(props: TabPanelProps) {\n    const { children, value, index, ...other } = props;\n\n    return (\n        <div\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`simple-tabpanel-${index}`}\n            aria-labelledby={`simple-tab-${index}`}\n            {...other}\n        >\n            {value === index && (\n                <Box sx={{ p: 3 }}>\n                    {children}\n                </Box>\n            )}\n        </div>\n    );\n}\n\nconst formatDate = (dateString: string) => {\n    const date = new Date(dateString);\n    return date.toLocaleString('vi-VN');\n};\n\nconst ProductManagement: React.FC = () => {\n    const [products, setProducts] = useState<Product[]>([]);\n    const [categories, setCategories] = useState<Category[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [openDialog, setOpenDialog] = useState(false);\n    const [editingProduct, setEditingProduct] = useState<Product | null>(null);\n    const [tabValue, setTabValue] = useState(0);\n    const [uploadingImage, setUploadingImage] = useState(false);\n    \n    // Promotion dialog\n    const [openPromotionDialog, setOpenPromotionDialog] = useState(false);\n    const [selectedProduct, setSelectedProduct] = useState<Product | null>(null);\n    const [productPromotions, setProductPromotions] = useState<Promotion[]>([]);\n    const [loadingPromotions, setLoadingPromotions] = useState(false);\n    const [promoTabValue, setPromoTabValue] = useState(0);\n    \n    const [formData, setFormData] = useState({\n        name: '',\n        description: '',\n        price: '',\n        stock_quantity: '',\n        category: '',\n        specification: ''\n    });\n    \n    const [images, setImages] = useState<ProductImage[]>([]);\n    const { enqueueSnackbar } = useSnackbar();\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        fetchProducts();\n        fetchCategories();\n    }, []);\n\n    const fetchProducts = async () => {\n        try {\n            setLoading(true);\n            const response = await getProducts();\n            setProducts(response.data);\n        } catch (error) {\n            console.error('Không thể lấy dữ liệu sản phẩm:', error);\n            enqueueSnackbar('Không thể lấy danh sách sản phẩm', { variant: 'error' });\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const fetchCategories = async () => {\n        try {\n            const response = await getCategories();\n            setCategories(response.data);\n        } catch (error) {\n            console.error('Không thể lấy dữ liệu danh mục:', error);\n            enqueueSnackbar('Không thể lấy danh sách danh mục', { variant: 'error' });\n        }\n    };\n\n    const handleOpenDialog = (product?: Product) => {\n        if (product) {\n            setEditingProduct(product);\n            setFormData({\n                name: product.name,\n                description: product.description || '',\n                price: product.price.toString(),\n                stock_quantity: product.stock_quantity.toString(),\n                category: product.category.toString(),\n                specification: product.detail?.specification || ''\n            });\n            setImages(product.images || []);\n        } else {\n            setEditingProduct(null);\n            setFormData({\n                name: '',\n                description: '',\n                price: '',\n                stock_quantity: '',\n                category: '',\n                specification: ''\n            });\n            setImages([]);\n        }\n        setOpenDialog(true);\n        setTabValue(0); // Reset to first tab when opening dialog\n    };\n\n    const handleCloseDialog = () => {\n        setOpenDialog(false);\n        setEditingProduct(null);\n        setImages([]);\n    };\n\n    const handleTextFieldChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n        const { name, value } = e.target;\n        setFormData(prev => ({\n            ...prev,\n            [name]: value\n        }));\n    };\n\n    const handleSelectChange = (e: SelectChangeEvent) => {\n        const { name, value } = e.target;\n        setFormData(prev => ({\n            ...prev,\n            [name]: value\n        }));\n    };\n\n    const handleTabChange = (event: React.SyntheticEvent, newValue: number) => {\n        setTabValue(newValue);\n    };\n\n    const handleUploadImage = async (e: React.ChangeEvent<HTMLInputElement>) => {\n        if (!e.target.files || e.target.files.length === 0) return;\n        \n        const file = e.target.files[0];\n        const formData = new FormData();\n        formData.append('file', file);\n        formData.append('upload_preset', CLOUDINARY_UPLOAD_PRESET);\n        \n        try {\n            setUploadingImage(true);\n            const response = await fetch(CLOUDINARY_UPLOAD_URL, {\n                method: 'POST',\n                body: formData\n            });\n            \n            const data = await response.json();\n            \n            if (data.secure_url) {\n                const newImage: ProductImage = {\n                    image_id: Date.now(), // Temporary ID for UI purposes\n                    image_url: data.secure_url,\n                    is_primary: images.length === 0 // First image is primary by default\n                };\n                \n                setImages(prev => [...prev, newImage]);\n                enqueueSnackbar('Tải hình ảnh lên thành công!', { variant: 'success' });\n            }\n        } catch (error) {\n            console.error('Lỗi khi tải hình ảnh:', error);\n            enqueueSnackbar('Không thể tải hình ảnh lên', { variant: 'error' });\n        } finally {\n            setUploadingImage(false);\n        }\n    };\n\n    const handleRemoveImage = (imageId: number) => {\n        setImages(prev => {\n            const filtered = prev.filter(img => img.image_id !== imageId);\n            // If we removed the primary image and have other images, make the first one primary\n            if (filtered.length > 0 && !filtered.some(img => img.is_primary)) {\n                filtered[0].is_primary = true;\n            }\n            return filtered;\n        });\n    };\n\n    const handleSetPrimaryImage = (imageId: number) => {\n        setImages(prev => \n            prev.map(img => ({\n                ...img,\n                is_primary: img.image_id === imageId\n            }))\n        );\n    };\n\n    const validateForm = () => {\n        if (!formData.name.trim()) {\n            enqueueSnackbar('Vui lòng nhập tên sản phẩm', { variant: 'error' });\n            return false;\n        }\n        \n        if (!formData.price || isNaN(Number(formData.price)) || Number(formData.price) <= 0) {\n            enqueueSnackbar('Vui lòng nhập giá sản phẩm hợp lệ', { variant: 'error' });\n            return false;\n        }\n        \n        if (!formData.stock_quantity || isNaN(Number(formData.stock_quantity)) || Number(formData.stock_quantity) < 0) {\n            enqueueSnackbar('Vui lòng nhập số lượng tồn kho hợp lệ', { variant: 'error' });\n            return false;\n        }\n        \n        if (!formData.category) {\n            enqueueSnackbar('Vui lòng chọn danh mục sản phẩm', { variant: 'error' });\n            return false;\n        }\n        \n        return true;\n    };\n\n    const handleSubmit = async () => {\n        if (!validateForm()) return;\n        \n        try {\n            const productData: any = {\n                name: formData.name,\n                description: formData.description || null,\n                price: Number(formData.price),\n                stock_quantity: Number(formData.stock_quantity),\n                category: Number(formData.category),\n                images: images.map(img => ({\n                    image_url: img.image_url,\n                    is_primary: img.is_primary\n                })),\n                detail: {\n                    specification: formData.specification || null\n                }\n            };\n            \n            if (editingProduct) {\n                // Cập nhật sản phẩm\n                await updateProduct(editingProduct.product_id, productData);\n                enqueueSnackbar('Cập nhật sản phẩm thành công!', { variant: 'success' });\n            } else {\n                // Tạo sản phẩm mới\n                await createProduct(productData);\n                enqueueSnackbar('Tạo sản phẩm mới thành công!', { variant: 'success' });\n            }\n            \n            handleCloseDialog();\n            fetchProducts();\n        } catch (error: any) {\n            console.error('Lỗi khi lưu sản phẩm:', error);\n            if (error.response) {\n                console.error('Lỗi response:', error.response.data);\n                enqueueSnackbar(`Lỗi: ${JSON.stringify(error.response.data)}`, { variant: 'error' });\n            } else {\n                enqueueSnackbar('Lỗi khi lưu dữ liệu sản phẩm', { variant: 'error' });\n            }\n        }\n    };\n\n    const handleDelete = async (id: number) => {\n        if (window.confirm('Bạn có chắc chắn muốn xóa sản phẩm này?')) {\n            try {\n                await deleteProduct(id);\n                enqueueSnackbar('Xóa sản phẩm thành công!', { variant: 'success' });\n                fetchProducts();\n            } catch (error) {\n                console.error('Lỗi khi xóa sản phẩm:', error);\n                enqueueSnackbar('Không thể xóa sản phẩm', { variant: 'error' });\n            }\n        }\n    };\n\n    const formatPrice = (price: number) => {\n        return new Intl.NumberFormat('vi-VN', {\n            style: 'currency',\n            currency: 'VND'\n        }).format(price);\n    };\n\n    const handleOpenPromotionDialog = async (product: Product) => {\n        setSelectedProduct(product);\n        setOpenPromotionDialog(true);\n        setPromoTabValue(0);\n        await fetchProductPromotions(product.product_id);\n    };\n    \n    const handleClosePromotionDialog = () => {\n        setOpenPromotionDialog(false);\n        setSelectedProduct(null);\n        setProductPromotions([]);\n    };\n    \n    const fetchProductPromotions = async (productId: number) => {\n        try {\n            setLoadingPromotions(true);\n            const response = await getProductPromotions(productId);\n            setProductPromotions(response.data);\n        } catch (error) {\n            console.error('Không thể lấy danh sách khuyến mãi của sản phẩm:', error);\n            enqueueSnackbar('Không thể lấy danh sách khuyến mãi', { variant: 'error' });\n        } finally {\n            setLoadingPromotions(false);\n        }\n    };\n    \n    const handleAddPromotion = () => {\n        navigate('/promotions', { state: { selectedProductId: selectedProduct?.product_id } });\n        handleClosePromotionDialog();\n    };\n    \n    const handlePromoTabChange = (event: React.SyntheticEvent, newValue: number) => {\n        setPromoTabValue(newValue);\n    };\n\n    return (\n        <Layout>\n            <Box sx={{ p: 3 }}>\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\n                    <Typography variant=\"h4\">Quản lý Sản phẩm</Typography>\n                    <Button \n                        variant=\"contained\" \n                        startIcon={<AddIcon />} \n                        onClick={() => handleOpenDialog()}\n                    >\n                        Thêm Sản phẩm\n                    </Button>\n                </Box>\n\n                <TableContainer component={Paper}>\n                    <Table>\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>ID</TableCell>\n                                <TableCell>Hình ảnh</TableCell>\n                                <TableCell>Tên sản phẩm</TableCell>\n                                <TableCell>Danh mục</TableCell>\n                                <TableCell>Giá</TableCell>\n                                <TableCell>Tồn kho</TableCell>\n                                <TableCell>Đã bán</TableCell>\n                                <TableCell>Khuyến mãi</TableCell>\n                                <TableCell align=\"right\">Thao tác</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {loading ? (\n                                <TableRow>\n                                    <TableCell colSpan={9} align=\"center\">Đang tải...</TableCell>\n                                </TableRow>\n                            ) : products.length === 0 ? (\n                                <TableRow>\n                                    <TableCell colSpan={9} align=\"center\">Không có dữ liệu</TableCell>\n                                </TableRow>\n                            ) : (\n                                products.map((product) => (\n                                    <TableRow key={product.product_id}>\n                                        <TableCell>{product.product_id}</TableCell>\n                                        <TableCell>\n                                            {product.images && product.images.length > 0 ? (\n                                                <Avatar \n                                                    src={product.images.find(img => img.is_primary)?.image_url || product.images[0].image_url} \n                                                    alt={product.name}\n                                                    sx={{ width: 50, height: 50 }}\n                                                    variant=\"rounded\"\n                                                />\n                                            ) : (\n                                                <Avatar \n                                                    sx={{ width: 50, height: 50, bgcolor: 'grey.300' }}\n                                                    variant=\"rounded\"\n                                                >\n                                                    <ImageIcon />\n                                                </Avatar>\n                                            )}\n                                        </TableCell>\n                                        <TableCell>{product.name}</TableCell>\n                                        <TableCell>{product.category_name}</TableCell>\n                                        <TableCell>\n                                            {product.discounted_price && product.discounted_price !== product.price ? (\n                                                <Box>\n                                                    <Typography\n                                                        variant=\"body2\"\n                                                        sx={{\n                                                            textDecoration: 'line-through',\n                                                            color: 'text.secondary'\n                                                        }}\n                                                    >\n                                                        {formatPrice(product.price)}\n                                                    </Typography>\n                                                    <Typography\n                                                        variant=\"body1\"\n                                                        sx={{ color: 'error.main', fontWeight: 'bold' }}\n                                                    >\n                                                        {formatPrice(product.discounted_price)}\n                                                    </Typography>\n                                                </Box>\n                                            ) : (\n                                                formatPrice(product.price)\n                                            )}\n                                        </TableCell>\n                                        <TableCell>{product.stock_quantity}</TableCell>\n                                        <TableCell>{product.sold_quantity}</TableCell>\n                                        <TableCell>\n                                            <Tooltip title=\"Xem khuyến mãi\">\n                                                <IconButton \n                                                    onClick={() => handleOpenPromotionDialog(product)}\n                                                    color=\"primary\"\n                                                >\n                                                    <LocalOfferIcon />\n                                                </IconButton>\n                                            </Tooltip>\n                                        </TableCell>\n                                        <TableCell align=\"right\">\n                                            <IconButton onClick={() => handleOpenDialog(product)}>\n                                                <EditIcon />\n                                            </IconButton>\n                                            <IconButton onClick={() => handleDelete(product.product_id)}>\n                                                <DeleteIcon />\n                                            </IconButton>\n                                        </TableCell>\n                                    </TableRow>\n                                ))\n                            )}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n\n                {/* Dialog Thêm/Sửa Sản phẩm */}\n                <Dialog \n                    open={openDialog} \n                    onClose={handleCloseDialog} \n                    maxWidth=\"md\" \n                    fullWidth\n                >\n                    <DialogTitle>{editingProduct ? 'Sửa Sản phẩm' : 'Thêm Sản phẩm Mới'}</DialogTitle>\n                    <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\n                        <Tabs value={tabValue} onChange={handleTabChange} aria-label=\"product edit tabs\">\n                            <Tab label=\"Thông tin cơ bản\" />\n                            <Tab label=\"Hình ảnh\" />\n                            <Tab label=\"Thông số kỹ thuật\" />\n                        </Tabs>\n                    </Box>\n                    <DialogContent>\n                        <TabPanel value={tabValue} index={0}>\n                            <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2, mt: 2 }}>\n                                <TextField\n                                    fullWidth\n                                    label=\"Tên sản phẩm\"\n                                    name=\"name\"\n                                    value={formData.name}\n                                    onChange={handleTextFieldChange}\n                                    required\n                                />\n                                <TextField\n                                    fullWidth\n                                    label=\"Mô tả\"\n                                    name=\"description\"\n                                    value={formData.description}\n                                    onChange={handleTextFieldChange}\n                                    multiline\n                                    rows={4}\n                                />\n                                <GridContainer>\n                                    <GridItemHalf>\n                                        <TextField\n                                            fullWidth\n                                            label=\"Giá (VNĐ)\"\n                                            name=\"price\"\n                                            value={formData.price}\n                                            onChange={handleTextFieldChange}\n                                            type=\"number\"\n                                            InputProps={{\n                                                startAdornment: <InputAdornment position=\"start\">₫</InputAdornment>,\n                                            }}\n                                            required\n                                        />\n                                    </GridItemHalf>\n                                    <GridItemHalf>\n                                        <TextField\n                                            fullWidth\n                                            label=\"Số lượng tồn kho\"\n                                            name=\"stock_quantity\"\n                                            value={formData.stock_quantity}\n                                            onChange={handleTextFieldChange}\n                                            type=\"number\"\n                                            required\n                                        />\n                                    </GridItemHalf>\n                                </GridContainer>\n                                <FormControl fullWidth required>\n                                    <InputLabel id=\"category-select-label\">Danh mục</InputLabel>\n                                    <Select\n                                        labelId=\"category-select-label\"\n                                        value={formData.category}\n                                        label=\"Danh mục\"\n                                        name=\"category\"\n                                        onChange={handleSelectChange}\n                                    >\n                                        {categories.map((category) => (\n                                            <MenuItem key={category.category_id} value={category.category_id}>\n                                                {category.name}\n                                            </MenuItem>\n                                        ))}\n                                    </Select>\n                                </FormControl>\n                            </Box>\n                        </TabPanel>\n                        \n                        <TabPanel value={tabValue} index={1}>\n                            <Box sx={{ mt: 2 }}>\n                                <Typography variant=\"subtitle1\" sx={{ mb: 2 }}>\n                                    Hình ảnh sản phẩm\n                                </Typography>\n                                \n                                <Box sx={{ mb: 3 }}>\n                                    <Button\n                                        variant=\"outlined\"\n                                        component=\"label\"\n                                        startIcon={uploadingImage ? <CircularProgress size={24} /> : <CloudUploadIcon />}\n                                        disabled={uploadingImage}\n                                    >\n                                        Tải hình ảnh lên\n                                        <input\n                                            type=\"file\"\n                                            hidden\n                                            accept=\"image/*\"\n                                            onChange={handleUploadImage}\n                                            disabled={uploadingImage}\n                                        />\n                                    </Button>\n                                    <FormHelperText>\n                                        Hình ảnh sẽ được tải lên Cloudinary\n                                    </FormHelperText>\n                                </Box>\n                                \n                                <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\n                                    {images.map((image) => (\n                                        <Box\n                                            key={image.image_id}\n                                            sx={{\n                                                position: 'relative',\n                                                width: 150,\n                                                height: 150,\n                                                m: 1,\n                                                border: image.is_primary ? '2px solid #2196f3' : '1px solid #ddd',\n                                                borderRadius: 1,\n                                                overflow: 'hidden'\n                                            }}\n                                        >\n                                            <img\n                                                src={image.image_url}\n                                                alt=\"Product\"\n                                                style={{ width: '100%', height: '100%', objectFit: 'cover' }}\n                                            />\n                                            <Box\n                                                sx={{\n                                                    position: 'absolute',\n                                                    bottom: 0,\n                                                    left: 0,\n                                                    right: 0,\n                                                    bgcolor: 'rgba(0,0,0,0.6)',\n                                                    display: 'flex',\n                                                    justifyContent: 'space-around',\n                                                    p: 0.5\n                                                }}\n                                            >\n                                                <Tooltip title=\"Đặt làm ảnh chính\">\n                                                    <span>\n                                                        <IconButton\n                                                            size=\"small\"\n                                                            onClick={() => handleSetPrimaryImage(image.image_id)}\n                                                            disabled={image.is_primary}\n                                                            sx={{ color: 'white' }}\n                                                        >\n                                                            <ImageIcon fontSize=\"small\" />\n                                                        </IconButton>\n                                                    </span>\n                                                </Tooltip>\n                                                <Tooltip title=\"Xóa ảnh\">\n                                                    <IconButton\n                                                        size=\"small\"\n                                                        onClick={() => handleRemoveImage(image.image_id)}\n                                                        sx={{ color: 'white' }}\n                                                    >\n                                                        <DeleteOutlineIcon fontSize=\"small\" />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Box>\n                                            {image.is_primary && (\n                                                <Chip\n                                                    label=\"Ảnh chính\"\n                                                    size=\"small\"\n                                                    color=\"primary\"\n                                                    sx={{\n                                                        position: 'absolute',\n                                                        top: 5,\n                                                        right: 5\n                                                    }}\n                                                />\n                                            )}\n                                        </Box>\n                                    ))}\n                                    \n                                    {images.length === 0 && (\n                                        <Box\n                                            sx={{\n                                                width: '100%',\n                                                height: 200,\n                                                display: 'flex',\n                                                alignItems: 'center',\n                                                justifyContent: 'center',\n                                                bgcolor: 'grey.100',\n                                                borderRadius: 1\n                                            }}\n                                        >\n                                            <Typography color=\"text.secondary\" sx={{ display: 'flex', alignItems: 'center' }}>\n                                                <ImageIcon sx={{ mr: 1 }} />\n                                                Chưa có hình ảnh nào\n                                            </Typography>\n                                        </Box>\n                                    )}\n                                </Box>\n                            </Box>\n                        </TabPanel>\n                        \n                        <TabPanel value={tabValue} index={2}>\n                            <Box sx={{ mt: 2 }}>\n                                <Typography variant=\"subtitle1\" sx={{ mb: 2, display: 'flex', alignItems: 'center' }}>\n                                    <DescriptionIcon sx={{ mr: 1 }} />\n                                    Thông số kỹ thuật sản phẩm\n                                </Typography>\n                                \n                                <TextField\n                                    fullWidth\n                                    label=\"Thông số kỹ thuật\"\n                                    name=\"specification\"\n                                    value={formData.specification}\n                                    onChange={handleTextFieldChange}\n                                    multiline\n                                    rows={10}\n                                    placeholder=\"Nhập thông số kỹ thuật của sản phẩm...\"\n                                    helperText=\"Bạn có thể sử dụng định dạng Markdown\"\n                                />\n                            </Box>\n                        </TabPanel>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={handleCloseDialog}>Hủy</Button>\n                        <Button onClick={handleSubmit} variant=\"contained\">Lưu</Button>\n                    </DialogActions>\n                </Dialog>\n                \n                {/* Dialog Xem Khuyến mãi của Sản phẩm */}\n                <Dialog open={openPromotionDialog} onClose={handleClosePromotionDialog} maxWidth=\"md\" fullWidth>\n                    <DialogTitle>\n                        Khuyến mãi cho sản phẩm: {selectedProduct?.name}\n                    </DialogTitle>\n                    <DialogContent>\n                        <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\n                            <Tabs value={promoTabValue} onChange={handlePromoTabChange}>\n                                <Tab label=\"Khuyến mãi đang áp dụng\" />\n                            </Tabs>\n                        </Box>\n                        <TabPanel value={promoTabValue} index={0}>\n                            {loadingPromotions ? (\n                                <Box sx={{ display: 'flex', justifyContent: 'center', my: 2 }}>\n                                    <Typography>Đang tải khuyến mãi...</Typography>\n                                </Box>\n                            ) : productPromotions.length === 0 ? (\n                                <Box sx={{ my: 2 }}>\n                                    <Typography>Chưa có khuyến mãi nào cho sản phẩm này</Typography>\n                                </Box>\n                            ) : (\n                                <List>\n                                    {productPromotions.map((promotion, index) => (\n                                        <React.Fragment key={promotion.promotion_id}>\n                                            <ListItem>\n                                                <ListItemText\n                                                    primary={\n                                                        <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                                                            <PercentIcon sx={{ mr: 1, color: 'primary.main' }} />\n                                                            <Typography variant=\"body1\">\n                                                                {promotion.title} - <strong>{promotion.discount_percentage}%</strong>\n                                                            </Typography>\n                                                        </Box>\n                                                    }\n                                                    secondary={\n                                                        <>\n                                                            <Typography variant=\"body2\">\n                                                                {promotion.description || 'Không có mô tả'}\n                                                            </Typography>\n                                                            <Typography variant=\"caption\">\n                                                                Thời gian: {formatDate(promotion.start_date)} - {formatDate(promotion.end_date)}\n                                                            </Typography>\n                                                        </>\n                                                    }\n                                                />\n                                                {(() => {\n                                                    const now = new Date();\n                                                    const startDate = new Date(promotion.start_date);\n                                                    const endDate = new Date(promotion.end_date);\n                                                    \n                                                    let status = \"Chưa bắt đầu\";\n                                                    let color = \"info\";\n                                                    \n                                                    if (now >= startDate && now <= endDate) {\n                                                        status = \"Đang diễn ra\";\n                                                        color = \"success\";\n                                                    } else if (now > endDate) {\n                                                        status = \"Đã kết thúc\";\n                                                        color = \"error\";\n                                                    }\n                                                    \n                                                    return (\n                                                        <Chip \n                                                            label={status} \n                                                            color={color as any}\n                                                            size=\"small\" \n                                                            sx={{ ml: 1 }}\n                                                        />\n                                                    );\n                                                })()}\n                                            </ListItem>\n                                            {index < productPromotions.length - 1 && <Divider />}\n                                        </React.Fragment>\n                                    ))}\n                                </List>\n                            )}\n                        </TabPanel>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button \n                            onClick={handleAddPromotion} \n                            variant=\"contained\" \n                            color=\"primary\" \n                            startIcon={<AddIcon />}\n                        >\n                            Thêm khuyến mãi mới\n                        </Button>\n                        <Button onClick={handleClosePromotionDialog}>Đóng</Button>\n                    </DialogActions>\n                </Dialog>\n            </Box>\n        </Layout>\n    );\n};\n\nexport default ProductManagement; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}